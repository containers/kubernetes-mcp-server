kind: Eval
metadata:
  name: "claude-code-mcp-local"
config:
  agent:
    type: "file"
    path: agent.yaml
  mcpConfigFile: ../mcp-config.yaml
  taskSets:
    # Kubernetes tasks
    - glob: ../tasks/*/*/*.yaml
      labelSelector:
        suite: kubernetes
      assertions:
        toolsUsed:
          - server: kubernetes
            toolPattern: ".*"
        minToolCalls: 1
        maxToolCalls: 20
    # Kiali tasks
    - glob: ../tasks/*/*/*.yaml
      labelSelector:
        suite: kiali
      assertions:
        toolsUsed:
          - server: kubernetes
            toolPattern: ".*"
        minToolCalls: 1
        maxToolCalls: 40
