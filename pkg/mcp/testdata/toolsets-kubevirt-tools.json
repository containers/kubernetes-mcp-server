[
  {
    "annotations": {
      "title": "Virtual Machine: Create",
      "destructiveHint": true,
      "idempotentHint": true,
      "openWorldHint": false
    },
    "description": "Create a VirtualMachine in the cluster with the specified configuration, automatically resolving instance types, preferences, and container disk images. VM will be created in Halted state by default; use autostart parameter to start it immediately.",
    "inputSchema": {
      "type": "object",
      "properties": {
        "autostart": {
          "description": "Optional flag to automatically start the VM after creation (sets runStrategy to Always instead of Halted). Defaults to false.",
          "type": "boolean"
        },
        "instancetype": {
          "description": "Optional instance type name for the VM (e.g., 'u1.small', 'u1.medium', 'u1.large')",
          "type": "string"
        },
        "name": {
          "description": "The name of the virtual machine",
          "type": "string"
        },
        "namespace": {
          "description": "The namespace for the virtual machine",
          "type": "string"
        },
        "performance": {
          "description": "Optional performance family hint for the VM instance type (e.g., 'u1' for general-purpose, 'o1' for overcommitted, 'c1' for compute-optimized, 'm1' for memory-optimized). Defaults to 'u1' (general-purpose) if not specified.",
          "examples": [
            "general-purpose",
            "overcommitted",
            "compute-optimized",
            "memory-optimized"
          ],
          "type": "string"
        },
        "preference": {
          "description": "Optional preference name for the VM",
          "type": "string"
        },
        "size": {
          "description": "Optional workload size hint for the VM (e.g., 'small', 'medium', 'large', 'xlarge'). Used to auto-select an appropriate instance type if not explicitly specified.",
          "examples": [
            "small",
            "medium",
            "large"
          ],
          "type": "string"
        },
        "storage": {
          "description": "Optional storage size for the VM's root disk when using DataSources (e.g., '30Gi', '50Gi', '100Gi'). Defaults to 30Gi. Ignored when using container disks.",
          "examples": [
            "30Gi",
            "50Gi",
            "100Gi"
          ],
          "type": "string"
        },
        "workload": {
          "description": "The workload for the VM. Accepts OS names (e.g., 'fedora' (default), 'ubuntu', 'centos', 'centos-stream', 'debian', 'rhel', 'opensuse', 'opensuse-tumbleweed', 'opensuse-leap') or full container disk image URLs",
          "examples": [
            "fedora",
            "ubuntu",
            "centos",
            "debian",
            "rhel",
            "quay.io/containerdisks/fedora:latest"
          ],
          "type": "string"
        }
      },
      "required": [
        "namespace",
        "name"
      ]
    },
    "name": "vm_create"
  },
  {
    "annotations": {
      "title": "Virtual Machine: Lifecycle",
      "destructiveHint": true,
      "openWorldHint": false
    },
    "description": "Manage VirtualMachine lifecycle: start, stop, or restart a VM",
    "inputSchema": {
      "type": "object",
      "properties": {
        "action": {
          "description": "The lifecycle action to perform: 'start' (changes runStrategy to Always), 'stop' (changes runStrategy to Halted), or 'restart' (stops then starts the VM)",
          "enum": [
            "start",
            "stop",
            "restart"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the virtual machine",
          "type": "string"
        },
        "namespace": {
          "description": "The namespace of the virtual machine",
          "type": "string"
        }
      },
      "required": [
        "namespace",
        "name",
        "action"
      ]
    },
    "name": "vm_lifecycle"
  },
  {
    "annotations": {
      "title": "Virtual Machine: Create Snapshot",
      "destructiveHint": false,
      "idempotentHint": true,
      "openWorldHint": false
    },
    "description": "Create a snapshot of a VirtualMachine. The VM can be running or stopped when creating a snapshot.",
    "inputSchema": {
      "type": "object",
      "properties": {
        "namespace": {
          "description": "The namespace of the virtual machine",
          "type": "string"
        },
        "snapshot_name": {
          "description": "The name for the new snapshot",
          "type": "string"
        },
        "vm_name": {
          "description": "The name of the virtual machine to snapshot",
          "type": "string"
        }
      },
      "required": [
        "namespace",
        "vm_name",
        "snapshot_name"
      ]
    },
    "name": "vm_snapshot_create"
  },
  {
    "annotations": {
      "title": "Virtual Machine: Manage Snapshot Feature Gate",
      "destructiveHint": true,
      "idempotentHint": true,
      "openWorldHint": false
    },
    "description": "Enable or disable the Snapshot feature gate in the KubeVirt CR. The Snapshot feature must be enabled before creating snapshots.",
    "inputSchema": {
      "type": "object",
      "properties": {
        "action": {
          "description": "The action to perform: 'enable' to enable the Snapshot feature gate, 'disable' to disable it",
          "enum": [
            "enable",
            "disable"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the KubeVirt CR (usually 'kubevirt')",
          "type": "string"
        },
        "namespace": {
          "description": "The namespace of the KubeVirt CR",
          "type": "string"
        }
      },
      "required": [
        "namespace",
        "name",
        "action"
      ]
    },
    "name": "vm_snapshot_feature_gate"
  },
  {
    "annotations": {
      "title": "Virtual Machine: Get Snapshot",
      "readOnlyHint": true,
      "destructiveHint": false,
      "idempotentHint": true,
      "openWorldHint": false
    },
    "description": "Get details of a specific VirtualMachineSnapshot",
    "inputSchema": {
      "type": "object",
      "properties": {
        "namespace": {
          "description": "The namespace of the snapshot",
          "type": "string"
        },
        "snapshot_name": {
          "description": "The name of the snapshot",
          "type": "string"
        }
      },
      "required": [
        "namespace",
        "snapshot_name"
      ]
    },
    "name": "vm_snapshot_get"
  },
  {
    "annotations": {
      "title": "Virtual Machine: List Snapshots",
      "readOnlyHint": true,
      "destructiveHint": false,
      "idempotentHint": true,
      "openWorldHint": false
    },
    "description": "List all VirtualMachineSnapshots in a namespace",
    "inputSchema": {
      "type": "object",
      "properties": {
        "namespace": {
          "description": "The namespace to list snapshots from",
          "type": "string"
        }
      },
      "required": [
        "namespace"
      ]
    },
    "name": "vm_snapshot_list"
  },
  {
    "annotations": {
      "title": "Virtual Machine: Restore from Snapshot",
      "destructiveHint": true,
      "openWorldHint": false
    },
    "description": "Restore a VirtualMachine from a snapshot. This creates a VirtualMachineRestore resource that restores the VM to the state captured in the snapshot.",
    "inputSchema": {
      "type": "object",
      "properties": {
        "namespace": {
          "description": "The namespace of the virtual machine",
          "type": "string"
        },
        "restore_name": {
          "description": "Optional name for the restore operation. If not provided, defaults to '\u003csnapshot_name\u003e-restore'",
          "type": "string"
        },
        "snapshot_name": {
          "description": "The name of the snapshot to restore from",
          "type": "string"
        },
        "vm_name": {
          "description": "The name of the virtual machine to restore",
          "type": "string"
        }
      },
      "required": [
        "namespace",
        "vm_name",
        "snapshot_name"
      ]
    },
    "name": "vm_snapshot_restore"
  }
]
